filebeat.inputs:
# Exchange Service
- type: log
  enabled: true
  paths:
    - /var/log/exchange_service/logs.txt
  fields:
    app_name: exchange_service
    env: development
  fields_under_root: true

# API Gateway
- type: log
  enabled: true
  paths:
    - /var/log/api_gateway/logs.txt
  fields:
    app_name: api_gateway
    env: development
  fields_under_root: true

# User Service
- type: log
  enabled: true
  paths:
    - /var/log/user_service/logs.txt
  fields:
    app_name: user_service
    env: development
  fields_under_root: true

processors:
- add_host_metadata:
    when.not.contains.tags: forwarded

output.logstash:
  hosts: ["graylog:5044"]

logging.level: info 